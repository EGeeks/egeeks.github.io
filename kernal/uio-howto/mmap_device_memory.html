<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>mmap() device memory</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="The Userspace I/O HOWTO" /><link rel="up" href="userspace_driver.html" title="Chapter 4. Writing a driver in userspace" /><link rel="prev" href="userspace_driver.html" title="Chapter 4. Writing a driver in userspace" /><link rel="next" href="wait_for_interrupts.html" title="Waiting for interrupts" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">mmap() device memory</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="userspace_driver.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Writing a driver in userspace</th><td width="20%" align="right"> <a accesskey="n" href="wait_for_interrupts.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="mmap_device_memory"></a>mmap() device memory</h2></div></div></div><p>
	After you made sure you've got the right device with the
	memory mappings you need, all you have to do is to call
	<code class="function">mmap()</code> to map the device's memory
	to userspace.
	</p><p>
	The parameter <code class="varname">offset</code> of the
	<code class="function">mmap()</code> call has a special meaning
	for UIO devices: It is used to select which mapping of
	your device you want to map. To map the memory of
	mapping N, you have to use N times the page size as
	your offset:
	</p><pre class="programlisting">
	offset = N * getpagesize();
</pre><p>
	N starts from zero, so if you've got only one memory
	range to map, set <code class="varname">offset = 0</code>.
	A drawback of this technique is that memory is always
	mapped beginning with its start address.
	</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="userspace_driver.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="userspace_driver.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="wait_for_interrupts.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 4. Writing a driver in userspace </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Waiting for interrupts</td></tr></table></div></body></html>