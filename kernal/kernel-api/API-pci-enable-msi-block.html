<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>pci_enable_msi_block</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="The Linux Kernel API" /><link rel="up" href="ch09s05.html" title="PCI Support Library" /><link rel="prev" href="API-pci-dev-present.html" title="pci_dev_present" /><link rel="next" href="API-pci-enable-msix.html" title="pci_enable_msix" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">pci_enable_msi_block</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-pci-dev-present.html">Prev</a> </td><th width="60%" align="center">PCI Support Library</th><td width="20%" align="right"> <a accesskey="n" href="API-pci-enable-msix.html">Next</a></td></tr></table><hr /></div><div class="refentry"><a id="API-pci-enable-msi-block"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>pci_enable_msi_block — 
  configure device's MSI capability structure
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <strong class="fsfunc">pci_enable_msi_block </strong>(</code></td><td>struct pci_dev * <var class="pdparam">dev</var>, </td></tr><tr><td> </td><td>unsigned int <var class="pdparam">nvec</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a id="idp35519716"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>dev</code></em></span></dt><dd><p>
     device to configure
    </p></dd><dt><span class="term"><em class="parameter"><code>nvec</code></em></span></dt><dd><p>
     number of interrupts to configure
    </p></dd></dl></div></div><div class="refsect1"><a id="idp42753796"></a><h2>Description</h2><p>
   Allocate IRQs for a device with the MSI capability.
   This function returns a negative errno if an error occurs.  If it
   is unable to allocate the number of interrupts requested, it returns
   the number of interrupts it might be able to allocate.  If it successfully
   allocates at least the number of interrupts requested, it returns 0 and
   updates the <em class="parameter"><code>dev</code></em>'s irq member to the lowest new interrupt number; the
   other interrupt numbers allocated to this device are consecutive.
</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-pci-dev-present.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch09s05.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="API-pci-enable-msix.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">pci_dev_present</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> <span class="phrase">pci_enable_msix</span></td></tr></table></div></body></html>