<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>sk_attach_filter</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Linux Networking and Network Devices APIs" /><link rel="up" href="ch01s03.html" title="Socket Filter" /><link rel="prev" href="API-sk-filter-release-rcu.html" title="sk_filter_release_rcu" /><link rel="next" href="ch01s04.html" title="Generic Network Statistics" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center"><span class="phrase">sk_attach_filter</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="API-sk-filter-release-rcu.html">Prev</a> </td><th width="60%" align="center">Socket Filter</th><td width="20%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr></table><hr /></div><div class="refentry"><a id="API-sk-attach-filter"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>sk_attach_filter — 
     attach a socket filter
 </p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <strong class="fsfunc">sk_attach_filter </strong>(</code></td><td>struct sock_fprog * <var class="pdparam">fprog</var>, </td></tr><tr><td> </td><td>struct sock * <var class="pdparam">sk</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a id="idp36406804"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>fprog</code></em></span></dt><dd><p>
     the filter program
    </p></dd><dt><span class="term"><em class="parameter"><code>sk</code></em></span></dt><dd><p>
     the socket to use
    </p></dd></dl></div></div><div class="refsect1"><a id="idp36409428"></a><h2>Description</h2><p>
   Attach the user's filter code. We first run some sanity checks on
   it to make sure it does not explode on us later. If an error
   occurs or there is insufficient memory for the filter a negative
   errno code is returned. On success the return is zero.
</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="API-sk-filter-release-rcu.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch01s03.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch01s04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"><span class="phrase">sk_filter_release_rcu</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Generic Network Statistics</td></tr></table></div></body></html>