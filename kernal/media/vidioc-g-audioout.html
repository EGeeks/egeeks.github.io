<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ioctl VIDIOC_G_AUDOUT, VIDIOC_S_AUDOUT</title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="LINUX MEDIA INFRASTRUCTURE API" /><link rel="up" href="user-func.html" title="Appendix A. Function Reference" /><link rel="prev" href="vidioc-g-audio.html" title="ioctl VIDIOC_G_AUDIO, VIDIOC_S_AUDIO" /><link rel="next" href="vidioc-g-crop.html" title="ioctl VIDIOC_G_CROP, VIDIOC_S_CROP" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">ioctl VIDIOC_G_AUDOUT, VIDIOC_S_AUDOUT</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="vidioc-g-audio.html">Prev</a> </td><th width="60%" align="center">Appendix A. Function Reference</th><td width="20%" align="right"> <a accesskey="n" href="vidioc-g-crop.html">Next</a></td></tr></table><hr /></div><div class="refentry"><a id="vidioc-g-audioout"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>VIDIOC_G_AUDOUT, VIDIOC_S_AUDOUT — Query or select the current audio output</p></div><div class="refsynopsisdiv"><h2>Synopsis</h2><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <strong class="fsfunc">ioctl</strong>(</code></td><td>int <var class="pdparam">fd</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">request</var>, </td></tr><tr><td> </td><td>struct v4l2_audioout *<var class="pdparam">argp</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div><div class="funcsynopsis"><table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;"><tr><td><code class="funcdef">int <strong class="fsfunc">ioctl</strong>(</code></td><td>int <var class="pdparam">fd</var>, </td></tr><tr><td> </td><td>int <var class="pdparam">request</var>, </td></tr><tr><td> </td><td>const struct v4l2_audioout *<var class="pdparam">argp</var><code>)</code>;</td></tr></table><div class="funcprototype-spacer"> </div></div></div><div class="refsect1"><a id="idp54197772"></a><h2>Arguments</h2><div class="variablelist"><dl class="variablelist"><dt><span class="term"><em class="parameter"><code>fd</code></em></span></dt><dd><p>File descriptor returned by <a class="link" href="func-open.html" title="V4L2 open()"><code class="function">open()</code></a>.</p></dd><dt><span class="term"><em class="parameter"><code>request</code></em></span></dt><dd><p>VIDIOC_G_AUDOUT, VIDIOC_S_AUDOUT</p></dd><dt><span class="term"><em class="parameter"><code>argp</code></em></span></dt><dd><p></p></dd></dl></div></div><div class="refsect1"><a id="idp54201876"></a><h2>Description</h2><p>To query the current audio output applications zero out the
<em class="structfield"><code>reserved</code></em> array of a struct <a class="link" href="vidioc-g-audioout.html#v4l2-audioout" title="Table A.39. struct v4l2_audioout">v4l2_audioout</a> and
call the <code class="constant">VIDIOC_G_AUDOUT</code> ioctl with a pointer
to this structure. Drivers fill the rest of the structure or return an
<span class="errorcode">EINVAL</span> error code when the device has no audio inputs, or none which combine
with the current video output.</p><p>Audio outputs have no writable properties. Nevertheless, to
select the current audio output applications can initialize the
<em class="structfield"><code>index</code></em> field and
<em class="structfield"><code>reserved</code></em> array (which in the future may
contain writable properties) of a
<span class="structname">v4l2_audioout</span> structure and call the
<code class="constant">VIDIOC_S_AUDOUT</code> ioctl. Drivers switch to the
requested output or return the <span class="errorcode">EINVAL</span> error code when the index is out of
bounds. This is a write-only ioctl, it does not return the current
audio output attributes as <code class="constant">VIDIOC_G_AUDOUT</code>
does.</p><p>Note connectors on a TV card to loop back the received audio
signal to a sound card are not audio outputs in this sense.</p><div class="table"><a id="v4l2-audioout"></a><p class="title"><strong>Table A.39. struct <span class="structname">v4l2_audioout</span></strong></p><div class="table-contents"><table summary="struct v4l2_audioout" width="100%" border="0"><colgroup><col class="c1" /><col class="c2" /><col class="c3" /></colgroup><tbody valign="top"><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>index</code></em></td><td valign="top">Identifies the audio output, set by the
driver or application.</td></tr><tr><td valign="top">__u8</td><td valign="top"><em class="structfield"><code>name</code></em>[32]</td><td valign="top">Name of the audio output, a NUL-terminated ASCII
string, for example: "Line Out". This information is intended for the
user, preferably the connector label on the device itself.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>capability</code></em></td><td valign="top">Audio capability flags, none defined yet. Drivers
must set this field to zero.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>mode</code></em></td><td valign="top">Audio mode, none defined yet. Drivers and
applications (on <code class="constant">VIDIOC_S_AUDOUT</code>) must set this
field to zero.</td></tr><tr><td valign="top">__u32</td><td valign="top"><em class="structfield"><code>reserved</code></em>[2]</td><td valign="top">Reserved for future extensions. Drivers and
applications must set the array to zero.</td></tr></tbody></table></div></div><br class="table-break" /></div><div class="refsect1"><a id="idp54214756"></a><h2>Return Value</h2><p>On success <span class="returnvalue">0</span> is returned, on error <span class="returnvalue">-1</span> and the <code class="varname">errno</code> variable is set appropriately:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="errorcode">EINVAL</span></span></dt><dd><p>No audio outputs combine with the current video
output, or the number of the selected audio output is out of bounds or
it does not combine, or there are no audio outputs at all and the
ioctl is not supported.</p></dd><dt><span class="term"><span class="errorcode">EBUSY</span></span></dt><dd><p>I/O is in progress, the output cannot be
switched.</p></dd></dl></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="vidioc-g-audio.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="user-func.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="vidioc-g-crop.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">ioctl VIDIOC_G_AUDIO, VIDIOC_S_AUDIO </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> ioctl VIDIOC_G_CROP, VIDIOC_S_CROP</td></tr></table></div></body></html>